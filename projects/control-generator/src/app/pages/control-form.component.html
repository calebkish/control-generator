<div class="flex flex-col gap-4 w-full">
  <div class="text-2xl">Create a control</div>

  <app-text-field
    label="Control Name"
    [ctrl]="form.controls.name"
  />

  <app-text-field
    label="General Process Category"
    [ctrl]="form.controls.gpc"
  />

  <app-select-field
    label="Control Type"
    [ctrl]="form.controls.controlType"
    [options]="controlTypeOptions"
  />

  <app-select-field
    label="Frequency"
    [ctrl]="form.controls.frequency"
    [options]="frequencyOptions"
  />

  <app-textarea-field
    label="Objective"
    [ctrl]="form.controls.objective"
  />

  <app-textarea-field
    label="IPE"
    [ctrl]="form.controls.ipe"
    hint="Information used in the Performance of the Control. Leave empty if not applicable."
  />

  <app-textarea-field
    label="Judgement/Complexity Involved"
    [ctrl]="form.controls.judgementComplexityInvolved"
    hint="Leave empty if not applicable."
  />

  <app-textarea-field
    label="Quantitative Thresholds"
    [ctrl]="form.controls.quantitativeThresholds"
    hint="Leave empty if not applicable."
  />

  <app-textarea-field
    label="Qualitative Thresholds"
    [ctrl]="form.controls.qualitativeThresholds"
    hint="Leave empty if not applicable."
  />

  <app-textarea-field
    label="Investigation and Resolution Process"
    [ctrl]="form.controls.investigationProcess"
    hint="Leave empty if not applicable."
  />

  <!-- <div class="border-2 p-3 rounded-md flex gap-2">
    <app-textarea-field
      label="Control description"
      hint="Please provide a detailed description of all activity occuring to achieve the objective of this control"
      [ctrl]="form.controls.description"
      class="flex-1"
    />
    <div class="flex-1">
      <button mat-stroked-button type="button" (click)="onDescriptionAiCritique$.next()">
        <mat-icon>bolt</mat-icon>
        Get AI Critique
      </button>
      <div>
        {{ llmDescriptionResponse$ | async }}
      </div>
    </div>
  </div>

  <app-array-field
    label="Control Attributes"
    [arrayCtrl]="form.controls.qualitativeThresholds"
  /> -->

  <button mat-flat-button type="button" (click)="onSubmit$.next()">
    Submit
  </button>
</div>
